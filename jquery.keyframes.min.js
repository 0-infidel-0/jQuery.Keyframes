var $createKeyframeStyleTag,animationPlayState,browserType,keyframeTimer,playStateRunning;$createKeyframeStyleTag=function(e){return $("<style>").attr({"class":"keyframe-style",id:e.id,type:"text/css"}).appendTo("head")},$.keyframe={browserCode:function(){var e;return e=navigator.userAgent,-1!==e.indexOf("Opera")?"-o-":-1!==e.indexOf("MSIE")?"-ms-":-1!==e.indexOf("WebKit")?"-webkit-":""},isSupported:function(){var e,a,t;return a=$("body").get(0),e=!1,a.style.animationName?e=!0:(t=this.browserCode().slice(1,-1),a.style[t+"AnimationName"]&&(e=!0)),e},generate:function(e){var a,t,r,n,i;n=e.name||"",r="@"+this.browserCode()+"keyframes "+n+" {";for(i in e)"name"!==i&&(r+=""+i+"{"+e[i]+"}");return r+="}",t=$("style#"+e.name),t.length>0?(t.html(r),a=$("*").filter(function(){return this.style[""+$.keyframe.browserCode().slice(1,-1)+"AnimationName"]===n}),a.each(function(){var e,a;return e=$(this),a=e.data("keyframeOptions"),e.resetKeyframe(function(){return e.playKeyframe(a)})})):$createKeyframeStyleTag({id:n}).append(r)},define:function(e){var a,t,r,n;if(e.length){for(n=[],t=0,r=e.length;r>t;t++)a=e[t],n.push(this.generate(a));return n}return this.generate(e)}},browserType=$.keyframe.browserCode(),keyframeTimer="keyframeTimer",animationPlayState="animation-play-state",playStateRunning="running",$.fn.resetKeyframe=function(e){var a;return a=$(this).css(browserType+animationPlayState,playStateRunning).css(browserType+"animation","none"),clearInterval(a.data(keyframeTimer)),clearTimeout(a.data(keyframeTimer)),e?setTimeout(e,1):void 0},$.fn.pauseKeyframe=function(){var e;return e=$(this).css(browserType+animationPlayState,"paused"),clearInterval(e.data(keyframeTimer)),clearTimeout(e.data(keyframeTimer))},$.fn.resumeKeyframe=function(){return $(this).css(browserType+animationPlayState,playStateRunning)},$.fn.extend({playKeyframe:function(e){var a,t,r,n,i,s,o,m;return"string"==typeof e&&(o=e.trim().split(" "),e={name:o[0],duration:parseInt(o[1]),delay:parseInt(o[3]),repeat:parseInt(o[4])}),n={duration:0,timingFunction:"ease",delay:0,repeat:1,direction:"normal",fillMode:"forwards",complete:null},e=$.extend(n,e),s=e.duration,i=e.delay,m=e.repeat,a=""+e.name+" "+s+"ms "+e.timingFunction+" "+i+"ms "+m+" "+e.direction+" "+e.fillMode,r=e.complete,t=browserType+"animation",this.each(function(){var n;if(n=$(this).addClass("boostKeyframe").css(browserType+animationPlayState,playStateRunning).css(t,a).data("keyframeOptions",e),"infinite"===m){if(r)return n.data(keyframeTimer,setTimeout(function(){return r(),n.data(keyframeTimer,setInterval(r,s))},s+i))}else if(r)return n.data(keyframeTimer,setTimeout(r,(s+i)*m))})}}),$createKeyframeStyleTag({id:"boost-keyframe"}).append(" .boostKeyframe{"+browserType+"transform:scale3d(1,1,1);}");